# ุงูุฑุจุท ูุน ูุงุนุฏุฉ ุจูุงูุงุช Supabase โ

## ๐ฏ ูุฏูู ุงูุขู ูุงุนุฏุฉ ุจูุงูุงุช ุฌุงูุฒุฉ!

ุฃูุช ุจุญุงุฌุฉ ููุณุฎ ูุชุบูุฑ ูุงุญุฏ ููุท: **LEXBANK_POSTGRES_URL**

---

## โก ุฎุทูุงุช ุงูุฑุจุท ุงูุณุฑูุนุฉ

### ุงูุฎุทูุฉ 1: ุงูุณุฎ ุฑุงุจุท ูุงุนุฏุฉ ุงูุจูุงูุงุช

ูู ููุญุฉ Vercel (ุงููุนูููุงุช ุงูุชู ุฃุฑุณูุชูุง)ุ ุงูุณุฎ ูููุฉ:
```
LEXBANK_POSTGRES_URL="..."
```

**ููุงุญุธุฉ**: ุงุญุฐู `LEXBANK_` ูู ุงูุจุฏุงูุฉุ ุณูุณุชุฎุฏู ููุท:
```
POSTGRES_URL="..."
```

### ุงูุฎุทูุฉ 2: ุฃุถู ุงููุชุบูุฑ ูู Vercel

#### ุฃ) ุฅุฐุง ูู ุชูุดุฑ ุงูุชุทุจูู ุจุนุฏ:

1. ุงููุฑ ุนูู ุฒุฑ Deploy ูู [README.md](../README.md)
2. ุนูุฏ ุทูุจ `POSTGRES_URL`ุ ุงูุตู ุงููููุฉ (ุจุฏูู LEXBANK_)
3. ุงุถุบุท Deploy

#### ุจ) ุฅุฐุง ูุดุฑุช ุงูุชุทุจูู ุจุงููุนู:

1. ุงุฐูุจ ุฅูู [Vercel Dashboard](https://vercel.com/dashboard)
2. ุงูุชุญ ูุดุฑูุน `wejdanai-smart-bank`
3. ุงุฐูุจ ุฅูู **Settings** โ **Environment Variables**
4. ุฃุถู ูุชุบูุฑ ุฌุฏูุฏ:
   - **Name**: `POSTGRES_URL`
   - **Value**: (ุงูุตู ุงููููุฉ ูู Supabase ุจุฏูู LEXBANK_)
5. ุงุญูุธ ูุงุถุบุท **Redeploy**

---

## ๐งช ุงุฎุชุจุงุฑ ูุญูู

ุฅุฐุง ููุช ุชุฑูุฏ ุงุฎุชุจุงุฑ ุงููุดุฑูุน ุนูู ุฌูุงุฒู:

### 1. ุฃูุดุฆ ููู `.env` ูู ุงููุฌูุฏ ุงูุฑุฆูุณู:

```bash
# ูู ุงููุฌูุฏ WejdanAI
touch .env
```

### 2. ุฃุถู ุงููุชุบูุฑ:

ุงูุชุญ `.env` ูุฃุถู:
```env
POSTGRES_URL="postgresql://postgres.xxxx:password@aws-0-region.pooler.supabase.com:6543/postgres"
```

(ุงุณุชุจุฏู ุจุงููููุฉ ุงููุนููุฉ ูู Supabase)

### 3. ุซุจุช ุงูุชุจุนูุงุช ูุดุบูู ุงููุดุฑูุน:

```bash
pnpm install
pnpm dev
```

ุงูุชุญ: http://localhost:3000

---

## ๐ ุชููุฆุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุนูุฏ ุฃูู ุฒูุงุฑุฉ ููุชุทุจููุ ุณูุชู:
1. โ ุฅูุดุงุก ุงูุฌุฏุงูู ุชููุงุฆูุงู
2. โ ุฅุถุงูุฉ ุจูุงูุงุช ุชุฌุฑูุจูุฉ
3. โ ุฅูุดุงุก ุญุณุงุจูู ุจููููู

**ุงุถุบุท ุนูู "ุจุฏุก ุงุณุชุฎุฏุงู ุงูุจูู"** ูุณูุชู ูู ุดูุก ุชููุงุฆูุงู!

---

## ๐ ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

ููููู ุฑุคูุฉ ุงูุฌุฏุงูู ูู Supabase:

1. ุงูุชุญ [Supabase Dashboard](https://supabase.com/dashboard)
2. ุงุฎุชุฑ ูุดุฑูุน `wejdanai-db`
3. ุงุฐูุจ ุฅูู **Table Editor**
4. ุณุชุฌุฏ ุงูุฌุฏุงูู:
   - `users` - ุงููุณุชุฎุฏููู
   - `accounts` - ุงูุญุณุงุจุงุช ุงูุจูููุฉ
   - `transactions` - ุงููุนุงููุงุช
   - `chat_messages` - ุฑุณุงุฆู ุงูุฏุฑุฏุดุฉ
   - `activity_logs` - ุณุฌู ุงููุดุงุทุงุช

---

## ๐ฏ ุงูุฎูุงุตุฉ

### ูุง ุชุญุชุงุฌ ูุนูู ุงูุขู:

1. **ุงูุณุฎ** `LEXBANK_POSTGRES_URL` ูู Supabase
2. **ุฃุฒู** `LEXBANK_` ูู ุงูุจุฏุงูุฉ
3. **ุงูุตูู** ูู `POSTGRES_URL` ูู Vercel Environment Variables
4. **ุงุถุบุท** Redeploy (ุฅุฐุง ูุดุฑุช ูุณุจูุงู)

**ุฃู**

ุงููุฑ ุนูู ุฒุฑ Deploy ุงูุขู ูุฃุถู ุงููุชุบูุฑ ูุจุงุดุฑุฉ:

[![Deploy to Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/MOTEB1989/WejdanAI&env=POSTGRES_URL&envDescription=PostgreSQL%20connection%20string%20from%20Supabase&project-name=wejdanai-smart-bank)

---

## ๐ก ูุตูุญุฉ

Supabase ูููุฑ ูู:
- โ ูุงุนุฏุฉ ุจูุงูุงุช ูุฌุงููุฉ (500MB)
- โ ููุญุฉ ุชุญูู ุณููุฉ
- โ SSL ุชููุงุฆู
- โ ูุณุฎ ุงุญุชูุงุทู

---

## ๐ ูู ูุงุฌูุช ูุดููุฉุ

### "Could not connect to database"
- ุชุฃูุฏ ูู ุฃู ุงูุฑุงุจุท ูุจุฏุฃ ุจู `postgresql://`
- ุชุญูู ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ูู ุงูุจุฏุงูุฉ ุฃู ุงูููุงูุฉ

### "Permission denied"
- ุงุณุชุฎุฏู `POSTGRES_URL` ูููุณ `POSTGRES_URL_NON_POOLING`

### ุงูุฌุฏุงูู ูุง ุชููุดุฃ
- ุงูุชุญ `/api/init` ูู ุงููุชุตูุญ
- ูุซุงู: `https://your-app.vercel.app/api/init`

---

**๐ ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑุ ุชุทุจููู ุณูุนูู ุจุดูู ูุงูู!**
